<?xml version="1.0" encoding="utf-8"?>
<s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009" 
					   xmlns:s="library://ns.adobe.com/flex/spark" width="600" height="400"
					   xmlns:mx="library://ns.adobe.com/flex/mx" creationComplete="windowedapplication1_creationCompleteHandler(event)">
	<fx:Script>
		
		<![CDATA[
			import com.data.GlobalData;
			import com.utils.FileUtil;
			
			import mx.events.FlexEvent;
			
			private var _cfgpath:String="/asset/cfg/config.xml";
			private var _cfgXml:XML;
			private var _root:String;
			
			private var _data:GlobalData;
			protected function windowedapplication1_creationCompleteHandler(event:FlexEvent):void
			{
				// TODO Auto-generated method stub
				_data=GlobalData.instance;
				NativeApplication.nativeApplication.addEventListener(InvokeEvent.INVOKE, onInvokeEvent);      
				function onInvokeEvent(invocation:InvokeEvent):void   
				{   
					_data.arguments = invocation.arguments;   
				}  
				checkCfg();
			}
						
		]]>
	</fx:Script>
	<fx:Declarations>
		<!-- 将非可视元素（例如服务、值对象）放在此处 -->
	</fx:Declarations>
	<s:VGroup x="10" y="10">
		<s:HGroup height="40">
			<s:Label text="表格目录：" width="100"/>
			<s:TextArea y="20" width="300" height="20" id="txt_sheet_dir" editable="false"/>
			<s:Button label="浏览" id="btn_sheet_dir" click="btnBrowseDirHandler(event)"/>
		</s:HGroup>
		<s:HGroup>
			<s:Label text="输出bin目录：" width="100"/>
			<s:TextArea y="20" width="300" height="20" id="txt_bin_dir" editable="false"/>
			<s:Button label="浏览" id="btn_bin_dir" click="btnBrowseDirHandler(event)"/>
		</s:HGroup>
		<s:HGroup>
			<s:Label text="输出xml目录：" width="100"/>
			<s:TextArea y="20" width="300" height="20" id="txt_xml_dir" editable="false"/>
			<s:Button label="浏览" id="btn_xml_dir" click="btnBrowseDirHandler(event)"/>
			
		</s:HGroup>
		<s:HGroup>
			<s:Label text="输出json目录：" width="100"/>
			<s:TextArea y="20" width="300" height="20" id="txt_json_dir" editable="false"/>
			<s:Button label="浏览" id="btn_json_dir" click="btnBrowseDirHandler(event)"/>
			
		</s:HGroup>
		<s:HGroup height="30">
			<s:Label text="输出code目录：" width="100"/>
			<s:TextArea y="20" width="300" height="20" id="txt_code_dir" editable="false"/>
			<s:Button label="浏览" id="btn_code_dir" click="btnBrowseDirHandler(event)"/>
			
		</s:HGroup>
		<s:HGroup height="30" alignmentBaseline="ideographicBottom">
			<s:Label text="输出格式：" width="100"/>
			<s:Label text="bin"/>
			<s:CheckBox id="box_0" click="selectformatHandler(event)"/>
			<s:Label text="xml"/>
			<s:CheckBox id="box_1" click="selectformatHandler(event)"/>
			<s:Label text="json"/>
			<s:CheckBox id="box_2" click="selectformatHandler(event)"/>
			<s:Label text="code"/>
			<s:CheckBox id="box_3" click="selectformatHandler(event)"/>
		</s:HGroup>
		<s:HGroup height="30" alignmentBaseline="ideographicBottom">
			<s:Label text="输出端：" width="100"/>
			<s:Label text="前端："/>
			<s:CheckBox id="export_0" click="selectExportHandler(event)"/>
			<s:Label text="后端："/>
			<s:CheckBox id="export_1" click="selectExportHandler(event)"/>
		</s:HGroup>
		<s:Button label="开始运行" id="btn_run" />
	</s:VGroup>
	<fx:Script source="Main.as"/>
</s:WindowedApplication>
